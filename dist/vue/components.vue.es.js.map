{"version":3,"file":"components.vue.es.js","sources":["../../src/vue/methods/Helpers.js","../../plugin-vue:export-helper","../../src/vue/components/parts/Tabs.vue","../../src/vue/components/actor/character/top/CharHeader.vue","../../src/vue/components/parts/Progress.vue","../../src/vue/components/actor/character/top/CharAttributes.vue","../../src/vue/components/actor/character/sidebar/CharAbilities.vue","../../src/vue/components/actor/character/sidebar/CharBackgrounds.vue","../../src/vue/components/actor/character/sidebar/CharInitiative.vue","../../src/vue/components/actor/character/sidebar/CharIconRelationships.vue","../../src/vue/components/parts/Editor.vue","../../src/vue/components/actor/character/sidebar/CharOut.vue","../../src/vue/components/actor/character/sidebar/CharIncrementals.vue","../../src/vue/components/actor/character/main/CharResources.vue","../../src/vue/components/parts/Power.vue","../../src/vue/components/parts/Rollable.vue","../../src/vue/components/actor/character/main/CharPowers.vue","../../src/vue/ArchmageCharacterSheet.vue","../../src/vue/components/parts/Tab.vue"],"sourcesContent":["export function getSafeValue(property, defaultValue) {\n  if (property) return property.value;\n  return defaultValue;\n}\n\nexport function localize(key) {\n  return game.i18n.localize(key);\n}\n\nexport function cssClass(string) {\n  return encodeURIComponent(\n    string.trim().toLowerCase()\n  ).replace(/%[0-9A-F]{2}/gi, '-');\n}\n\nexport function numberFormat(value, dec = 0, sign = false) {\n  value = parseFloat(value).toFixed(dec);\n  if (sign ) return ( value >= 0 ) ? `+${value}` : value;\n  return value;\n}\n\nexport function concat(...args) {\n  return args.reduce((acc, cur) => {\n    return acc + cur;\n  }, '');\n}","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <section class=\"section section--tabs flexshrink\">\n    <input type=\"hidden\" :name=\"concat('flags.archmage.sheetDisplay.tabs.', group, '.value')\" v-model=\"currentTab\"/>\n    <nav :class=\"'sheet-tabs tabs tabs--' + group\" :data-group=\"group\">\n      <a v-for=\"(tab, tabKey) in tabs\" :key=\"'tab-' + group + '-' + tabKey\" @click=\"changeTab\" :class=\"getTabClass(tab, tabKey)\" :data-tab=\"tabKey\"><i v-if=\"tab.icon\" :class=\"concat('fas ', tab.icon)\"></i><span v-if=\"!tab.hideLabel\">{{tab.label}}</span></a>\n    </nav>\n  </section>\n</template>\n\n<script>\nimport { concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'Tabs',\n  props: ['context', 'actor', 'group', 'tabs', 'flags'],\n  setup() {\n    return { concat }\n  },\n  data() {\n    return {\n      currentTab: 'powers'\n    }\n  },\n  methods: {\n    changeTab(event) {\n      // If this was a click, update the default tab.\n      if (event && event.currentTarget) {\n        let $target = $(event.currentTarget);\n        this.currentTab = $target.data('tab');\n      }\n\n      // Update the tab displays.\n      for (let [k,v] of Object.entries(this.tabs)) {\n        this.tabs[k].active = false;\n      }\n\n      // Update the active tab display.\n      this.tabs[this.currentTab].active = true;\n    },\n    getTabClass(tab, index) {\n      return `tab-link tab-link--${index}${tab.active ? ' active': ''}`;\n    }\n  },\n  async mounted() {\n    this.currentTab = this.flags.sheetDisplay.tabs[this.group].value ? this.flags.sheetDisplay.tabs[this.group].value : 'details';\n    this.changeTab(false);\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","<template>\n  <!-- HEADER -->\n  <header class=\"header character-header grid grid-4col\">\n    <!-- Name -->\n    <div class=\"unit unit--abs-label unit--name\">\n      <label for=\"name\">{{localize(\"ARCHMAGE.name\")}}</label>\n      <input type=\"text\" name=\"name\" class=\"input-secondary\" v-model=\"actor.name\">\n    </div>\n    <!-- Race -->\n    <div class=\"unit unit--abs-label unit--race\">\n      <label for=\"data.details.race.value\">{{localize(\"ARCHMAGE.race\")}}</label>\n      <input type=\"text\" name=\"data.details.race.value\" class=\"input-secondary\" v-model=\"actor.data.details.race.value\">\n    </div>\n    <!-- Class -->\n    <div class=\"unit unit--abs-label unit--class\">\n      <label for=\"data.details.class.value\">{{localize(\"ARCHMAGE.class\")}}</label>\n      <input type=\"text\" name=\"data.details.class.value\" class=\"input-secondary\" v-model=\"actor.data.details.class.value\">\n    </div>\n    <!-- Level -->\n    <div class=\"unit unit--abs-label unit--level\">\n      <label for=\"data.attributes.level.value\">{{localize(\"ARCHMAGE.level\")}}</label>\n      <input type=\"number\" name=\"data.attributes.level.value\" class=\"input-secondary\" v-model=\"actor.data.attributes.level.value\" min=\"0\">\n    </div>\n  </header>\n</template>\n\n<script>\nimport { localize } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharacterHeader',\n  props: ['actor'],\n  setup() {\n    return {\n      localize\n    }\n  },\n  data() {\n    return {\n      level: {}\n    }\n  },\n  computed: {},\n  methods: { /* See created. */},\n  async mounted() {\n    this.level = this.actor.data.attributes.level;\n  }\n}\n</script>","<template>\n  <div :class=\"concat('progress-bar progress-bar--', name)\">\n    <div class=\"progress-track\"></div>\n    <div :class=\"getProgressClass(current)\" :style=\"{width: getProgressPercent(current, realMax)}\"></div>\n    <div v-if=\"temp\" :class=\"getProgressClass(temp, 'temp', current)\" :style=\"{width: getProgressPercent(temp, realMax), left: getProgressPercent(current, realMax)}\"></div>\n  </div>\n</template>\n\n<script>\nimport { concat } from '/src/vue/methods/Helpers.js';\nexport default {\n  name: 'Progress',\n  props: ['current', 'temp', 'max', 'name'],\n  setup() {\n    return {\n      concat\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    realMax() {\n      let temp = this.temp ? this.temp : 0;\n      return Math.max(this.max, this.current + temp);\n    }\n  },\n  methods: {\n    getProgressClass(value, modifier = 'current', value2 = 0) {\n      let percent = this.getProgressPercent((Number(value) + value2), this.max, false);\n      let level = 'full';\n\n      if (percent > 75) {\n        level = 'full';\n      }\n      else if (percent > 50) {\n        level = 'hurt';\n      }\n      else if (percent > 25) {\n        level = 'staggered';\n      }\n      else {\n        level = 'dire';\n      }\n\n      return `progress-${modifier} progress-${level}`;\n    },\n    getProgressPercent(value, value2, includeSign = true) {\n      let percent = Math.ceil(100 * (value / Math.max(1, value2)));\n\n      if (percent > 100) percent = 100;\n      else if (percent < 0) percent = 0;\n\n      return includeSign ? `${percent}%` : percent;\n    }\n  }\n}\n</script>","<template>\n  <section class=\"section section--attributes flexrow\">\n    <!-- Actor image -->\n    <div class=\"unit unit--img profile-img\">\n      <img :src=\"actor.img\" ref=\"avatar\" :alt=\"localize('ARCHMAGE.avatarAlt')\" :width=\"avatarWidth\" :height=\"avatarHeight\" :class=\"avatarClass\" data-edit=\"img\"/>\n    </div>\n    <div class=\"unit unit--attributes grid grid-5col border-both\">\n      <!-- HP -->\n      <div class=\"unit unit--has-max unit--hp\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.hitPoints')}}</h2>\n        <Progress name=\"hp\" :current=\"actor.data.attributes.hp.value\" :temp=\"actor.data.attributes.hp.temp\" :max=\"actor.data.attributes.hp.max\"/>\n        <div class=\"resource flexrow\">\n          <input type=\"number\" name=\"data.attributes.hp.value\" class=\"resource-current\" v-model=\"actor.data.attributes.hp.value\">\n          <span class=\"resource-separator\">/</span>\n          <div v-if=\"actor.data.attributes.hp.automatic\" class=\"resource-max\">{{actor.data.attributes.hp.max}}</div>\n          <input v-else type=\"number\" name=\"data.attributes.hp.max\" class=\"resource-max\" v-model=\"actor.data.attributes.hp.max\">\n        </div>\n        <div class=\"labeled-input flexrow\">\n          <label for=\"data.attributes.hp.temp\" class=\"unit-subtitle\">{{localize('ARCHMAGE.tempHp')}}</label>\n          <input type=\"number\" name=\"data.attributes.hp.temp\" class=\"temp-hp\" v-model=\"actor.data.attributes.hp.temp\">\n        </div>\n      </div>\n      <!-- Defenses -->\n      <div class=\"unit unit--defenses\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.defenses')}}</h2>\n        <div class=\"defenses grid grid-3col\">\n          <div class=\"defense defense--ac flexcol\">\n            <span class=\"defense-value\">{{actor.data.attributes.ac.value}}</span>\n            <h3 class=\"unit-subtitle\" :title=\"concat(localize('ARCHMAGE.ac.label'), ' (', localize('ARCHMAGE.ac.stats'), ')')\">{{localize('ARCHMAGE.ac.key')}}</h3>\n          </div>\n          <div class=\"defense defense--pd flexcol\">\n            <span class=\"defense-value\">{{actor.data.attributes.pd.value}}</span>\n            <h3 class=\"unit-subtitle\" :title=\"concat(localize('ARCHMAGE.pd.label'), ' (', localize('ARCHMAGE.pd.stats'), ')')\">{{localize('ARCHMAGE.pd.key')}}</h3>\n          </div>\n          <div class=\"defense defense--md flexcol\">\n            <span class=\"defense-value\">{{actor.data.attributes.md.value}}</span>\n            <h3 class=\"unit-subtitle\" :title=\"concat(localize('ARCHMAGE.md.label'), ' (', localize('ARCHMAGE.md.stats'), ')')\">{{localize('ARCHMAGE.md.key')}}</h3>\n          </div>\n        </div>\n      </div>\n      <!-- Recoveries -->\n      <div class=\"unit unit--has-max unit--recoveries\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.recoveries')}}</h2>\n        <Progress name=\"recoveries\" :current=\"actor.data.attributes.recoveries.value\" :max=\"actor.data.attributes.recoveries.max\"/>\n        <div class=\"resource flexrow\">\n          <input type=\"number\" name=\"data.attributes.recoveries.value\" class=\"resource-current\" v-model=\"actor.data.attributes.recoveries.value\">\n          <span class=\"resource-separator\">/</span>\n          <div v-if=\"actor.data.attributes.recoveries.automatic\" class=\"resource-max\">{{actor.data.attributes.recoveries.max}}</div>\n          <input v-else type=\"number\" name=\"data.attributes.recoveries.max\" class=\"resource-max\" v-model=\"actor.data.attributes.recoveries.max\">\n        </div>\n        <div class=\"roll\">\n          <a class=\"rollable rollable--recover\" data-roll-type=\"recovery\">{{actor.data.attributes.level.value}}{{actor.data.attributes.recoveries.dice}}+{{actor.data.abilities.con.dmg}} ({{actor.data.attributes.recoveries.avg}})</a>\n        </div>\n      </div>\n      <!-- Saving Throws -->\n      <div class=\"unit unit--saves flexcol\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.saves')}}</h2>\n        <div class=\"saves flexcol\">\n          <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"easy\">6+ ({{localize('ARCHMAGE.SAVE.easyShort')}})</a>\n          <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"normal\">11+ ({{localize('ARCHMAGE.SAVE.normalShort')}})</a>\n          <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"hard\">16+ ({{localize('ARCHMAGE.SAVE.hardShort')}})</a>\n        </div>\n      </div>\n      <!-- Init / Death Saves -->\n      <div class=\"unit unit--death\">\n        <div class=\"dividers flexcol\">\n          <div class=\"death-saves\">\n            <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"death\">{{localize('ARCHMAGE.SAVE.death')}}</a>\n            <div class=\"death-save-attempts flexrow\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[0]\" data-opt=\"1\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[1]\" data-opt=\"2\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[2]\" data-opt=\"3\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[3]\" data-opt=\"4\">\n            </div>\n          </div>\n          <div class=\"last-gasp-saves\">\n            <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"lastGasp\">{{localize('ARCHMAGE.SAVE.lastGasp')}}</a>\n            <div class=\"lastgasp-save-attempts flexrow\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[0]\" data-opt=\"1\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[1]\" data-opt=\"2\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[2]\" data-opt=\"3\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[3]\" data-opt=\"4\">\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { concat, localize } from '/src/vue/methods/Helpers';\nimport { default as Progress } from '/src/vue/components/parts/Progress.vue';\nexport default {\n  name: 'CharAttributes',\n  props: ['actor'],\n  setup() {\n    return {\n      concat,\n      localize\n    }\n  },\n  data() {\n    return {\n      avatarClass: 'avatar',\n      avatarWidth: 105,\n      avatarHeight: 105\n    }\n  },\n  components: {\n    Progress\n  },\n  computed: {},\n  methods: {\n    getAvatarDimensions() {\n      let img = this.$refs['avatar'];\n      let width = img.naturalWidth;\n      let height = img.naturalHeight;\n\n      let ratio = width / height;\n      let ratioClass = 'square';\n      let squareSize = width;\n\n      if (ratio < 0.9) {\n        ratioClass = 'portrait';\n        squareSize = width;\n      }\n      else if (ratio > 1.1) {\n        // TODO: Figure out a good layout for landscape.\n        // ratioClass = 'landscape';\n        ratioClass = 'square';\n        squareSize = height;\n      }\n\n      this.avatarWidth = ratioClass != 'square' ? width : squareSize;\n      this.avatarHeight = ratioClass != 'square' ? height : squareSize;\n      let classes = ['avatar', `avatar--${ratioClass}`];\n      let flags = this.actor.flags && this.actor.flags.archmage ? this.actor.flags.archmage : {};\n      if (flags.portraitRound) classes.push('avatar--round');\n      if (flags.portraitFrame) classes.push('avatar--frame');\n      this.avatarClass = classes.join(' ');\n    },\n    checkLoaded() {\n      if (this.$refs.avatar.complete) {\n        this.getAvatarDimensions();\n      }\n      else {\n        this.$refs.avatar.addEventListener('load', () => {\n          this.getAvatarDimensions();\n        });\n      }\n    }\n  },\n  watch: {\n    'actor.img': {\n      deep: false,\n      handler() {\n        this.$nextTick(() => {\n          this.checkLoaded();\n        });\n      }\n    },\n    'actor.flags.archmage': {\n      deep: true,\n      handler() {\n        this.getAvatarDimensions();\n      }\n    }\n  },\n  async mounted() {\n    this.$nextTick(() => {\n      this.checkLoaded();\n    });\n  }\n}\n</script>\n","<template>\n  <section class=\"section section--abilities flexcol\">\n    <div class=\"list-item-header grid grid-4col\">\n      <h2 class=\"unit-title grid-span-2\">{{localize('ARCHMAGE.abilities')}}</h2>\n      <div class=\"ability-mod-label grid-start-3\">{{localize('ARCHMAGE.mod')}}</div>\n      <div class=\"ability-lvl-label grid-start-4\">{{localize('ARCHMAGE.lvl')}}</div>\n    </div>\n    <ul class=\"list list--abilities abilities\">\n      <li v-for=\"(item, index) in actor.data.abilities\" :key=\"concat('data.abilities.', index, '.value')\" class=\"list-item list-item--abilities ability grid grid-4col\" :data-key=\"index\">\n        <input type=\"number\" v-bind:name=\"concat('data.abilities.', index, '.value')\" class=\"ability-score\" v-model=\"item.value\"/>\n        <a class=\"ability-name rollable rollable--ability\" data-roll-type=\"ability\" :data-roll-opt=\"index\">{{localize(concat('ARCHMAGE.', index, '.label'))}}</a>\n        <div class=\"ability-mod\" :style=\"concat('color:', modColor(item))\" :title=\"modTitle(item, actor)\">{{numberFormat(item.nonKey.mod, 0, true)}}</div>\n        <div class=\"ability-lvl\" :style=\"concat('color:', modColor(item))\">{{numberFormat(item.nonKey.lvlmod, 0, true)}}</div>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { numberFormat, localize, concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharAbilities',\n  props: ['actor'],\n  setup() {\n    return {\n      numberFormat,\n      localize,\n      concat\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n  },\n  methods: {\n    modColor(abil) {\n      if (abil.mod && abil.nonKey.mod) {\n        if (abil.mod < abil.nonKey.mod) {\n          console.log(abil.label);\n          return '#E01616';\n        }\n      }\n      return 'inherit';\n    },\n    modTitle(abil, actor) {\n      if (abil.mod && abil.nonKey.mod) {\n        if (abil.mod < abil.nonKey.mod) {\n          return game.i18n.format('ARCHMAGE.keyReduced', {\n            mod: window.archmageVueMethods.methods.numberFormat(abil.mod, 0, true),\n            kmod1: actor.data.attributes.keyModifier.mod1,\n            kmod2: actor.data.attributes.keyModifier.mod2\n          });\n        }\n      }\n      return '';\n    }\n  },\n  watch: {},\n  async mounted() {}\n}\n</script>","<template>\n  <section class=\"section section--backgrounds flexcol\">\n    <h2 class=\"unit-title\">{{localize('ARCHMAGE.backgrounds')}}</h2>\n    <ul class=\"list list--backgrounds backgrounds\">\n      <li v-for=\"(item, index) in backgrounds\" :key=\"concat('data.backgrounds.', index)\" class=\"list-item list-item--backgrounds background flexrow\" :data-key=\"index\">\n        <span class=\"rollable rollable--background flexshrink\" data-roll-type=\"background\" :data-roll-opt=\"item.name.value\"></span>\n        <span class=\"background-sign\">+</span>\n        <input type=\"number\" v-bind:name=\"concat('data.backgrounds.', index, '.bonus.value')\" class=\"background-bonus\" v-model=\"item.bonus.value\"/>\n        <input type=\"text\" v-bind:name=\"concat('data.backgrounds.', index, '.name.value')\" class=\"background-name\" v-model=\"item.name.value\"/>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { localize, concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharBackgrounds',\n  props: ['actor'],\n  setup() {\n    return {\n      localize,\n      concat\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    backgrounds() {\n      let filteredBackgrounds = {};\n      for (let [k,v] of Object.entries(this.actor.data.backgrounds)) {\n        if (v.isActive.value === true) filteredBackgrounds[k] = v;\n      }\n      return filteredBackgrounds;\n    }\n  },\n  methods: { /* See created. */},\n  async mounted() {}\n}\n</script>","<template>\n  <section class=\"section section--initiative flexcol\">\n    <a class=\"rollable rollable--init\" data-roll-type=\"init\">{{numberFormat(actor.data.attributes.init.mod, 0, true)}} {{localize('ARCHMAGE.initiative')}}</a>\n  </section>\n</template>\n\n<script>\nimport { numberFormat, localize } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharIniative',\n  props: ['actor'],\n  setup() {\n    return {\n      numberFormat,\n      localize\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {},\n  methods: {},\n  watch: {},\n  async mounted() {}\n}\n</script>","<template>\n  <section class=\"section section--icons flexcol\">\n    <h2 class=\"unit-title\">{{localize('ARCHMAGE.iconRelationships')}}</h2>\n    <ul class=\"list list--icons icons\">\n      <li v-for=\"(item, index) in icons\" :key=\"concat('data.icons.', index)\" class=\"list-item list-item--icons icon flexrow\" :data-key=\"index\">\n        <div :class=\"concat('icon-display flexrow', isEdit(index, editArray[index]))\">\n          <div class=\"rollable rollable--icon\" data-roll-type=\"icon\" :data-roll-opt=\"index\">\n            <span class=\"icon-symbol flexshrink\">{{iconSymbol(item.relationship.value)}}</span>\n            <span class=\"icon-name\">{{item.bonus.value}} {{item.name.value}}</span>\n          </div>\n          <ul v-if=\"item.results\" class=\"icon-rolls flexrow\" :key=\"changeKey\">\n            <li v-for=\"(roll, rollIndex) in item.results\" :key=\"rollIndex\" class=\"icon-roll\" :data-key=\"index\" :data-roll-key=\"rollIndex\" :data-roll=\"getRollResult(roll)\">{{getRollResult(roll)}}</li>\n          </ul>\n        </div>\n        <div :class=\"concat('icon-edit flexrow', isEdit(index, !editArray[index]))\">\n          <select class=\"relationship-edit\" :name=\"concat('data.icons.', index, '.relationship.value')\" v-model=\"item.relationship.value\">\n            <option value=\"Positive\">{{localize('ARCHMAGE.positive')}}</option>\n            <option value=\"Negative\">{{localize('ARCHMAGE.negative')}}</option>\n            <option value=\"Conflicted\">{{localize('ARCHMAGE.conflicted')}}</option>\n          </select>\n          <input type=\"number\" v-bind:name=\"concat('data.icons.', index, '.bonus.value')\" class=\"icon-bonus-edit\" v-model=\"item.bonus.value\"/>\n          <input type=\"text\" v-bind:name=\"concat('data.icons.', index, '.name.value')\" class=\"icon-name-edit\" v-model=\"item.name.value\"/>\n        </div>\n        <span class=\"icon-edit-toggle fas fa-edit\" v-on:click=\"toggleEdit\"></span>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { localize, concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharIconRelationships',\n  props: ['actor'],\n  setup() {\n    return {\n      concat,\n      localize\n    }\n  },\n  data: () => ({\n    editArray: [],\n    changeKey: 0\n  }),\n  computed: {\n    icons() {\n      let filteredIcons = {};\n      for (let [k,v] of Object.entries(this.actor.data.icons)) {\n        if (v.isActive.value === true) filteredIcons[k] = v;\n      }\n      return filteredIcons;\n    },\n    relationshipTypes() {\n      return [\n        {label: game.i18n.localize('ARCHMAGE.positive'), code: 'Positive'},\n        {label: game.i18n.localize('ARCHMAGE.negative'), code: 'Negative'},\n        {label: game.i18n.localize('ARCHMAGE.conflicted'), code: 'Conflicted'}\n      ];\n    },\n  },\n  methods: {\n    iconSymbol(iconKey) {\n      let symbols = {\n        'Positive': '+',\n        'Negative': '-',\n        'Conflicted': '~'\n      };\n      return symbols[iconKey];\n    },\n    toggleEdit(event) {\n      let $target = $(event.currentTarget);\n      let $parent = $target.parents('.list-item--icons');\n      let $display = $parent.find('.icon-display');\n      let $edit = $parent.find('.icon-edit');\n\n      $display.toggleClass('hide');\n      $edit.toggleClass('hide');\n\n      let index = parseInt($parent.attr('data-key'));\n      this.editArray[index] = $display.hasClass('hide');\n    },\n    isEdit(index, type) {\n      if (this.editArray.length < 1) {\n        return type === true ? ' hide ' : '';\n      }\n      else {\n        return this.editArray[index] === type ? ' hide ' : '';\n      }\n    },\n    getRollResult(roll) {\n      return roll == 5 || roll == 6 ? roll : 0;\n    }\n  },\n  watch: {\n  },\n  async mounted() {\n  }\n}\n</script>","<template>\n  <div class=\"editor-wrapper\">\n    <div class=\"editor\">\n      <div class=\"editor-content\" :data-edit=\"target\" v-html=\"enrichHTML()\"></div>\n      <a class=\"editor-edit\" v-if=\"canEdit\"><i class=\"fas fa-edit\"></i></a>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Edtior',\n  props: ['owner', 'target', 'content', 'button', 'editable', 'documents', 'links', 'rolls', 'rollData'],\n  data() {\n    return {\n      canEdit: false\n    }\n  },\n  computed: {},\n  methods: {\n    enrichHTML() {\n      const button = Boolean(this.button);\n      const editable = Boolean(this.editable);\n      this.canEdit = (button && editable);\n      const editor = TextEditor.enrichHTML(this.content || '', {\n        secrets: this.owner,\n        documents: this.documents ?? true,\n        links: this.links ?? true,\n        rolls: this.rolls ?? true,\n        rollData: this.rollData ?? {}\n      });\n      return editor;\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .sheet {\n    .editor-wrapper,\n    .editor,\n    .editor-content {\n      height: 100%;\n    }\n  }\n</style>","<template>\n  <section class=\"section section--out flexcol\">\n    <h2 class=\"unit-title\">{{localize('ARCHMAGE.oneUniqueThing')}}</h2>\n    <div class=\"out\">\n      <Editor :owner=\"owner\" target='data.details.out.value' button=\"true\" editable=\"true\" :content=\"actor.data.details.out.value\"/>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { localize } from '/src/vue/methods/Helpers';\nimport { default as Editor } from '/src/vue/components/parts/Editor.vue';\nexport default {\n  name: 'CharOut',\n  props: ['actor', 'owner'],\n  setup() {\n    return { localize }\n  },\n  data() {\n    return {}\n  },\n  components: {\n    Editor\n  },\n  computed: {},\n  methods: { /* See created. */},\n  async mounted() {\n  }\n}\n</script>","<template>\n  <section class=\"section section--incrementals flexcol\">\n    <h2 class=\"unit-title\">{{localize('ARCHMAGE.incrementalAdvances')}}</h2>\n    <ul class=\"list list--incrementals incrementals\">\n      <li v-for=\"(item, index) in getOrderedIncrementals(actor)\" :key=\"index\" class=\"list-item list-item--incrementals incremental\" :data-key=\"index\">\n        <label :for=\"concat('data.incrementals.', index)\" :title=\"localize(concat('ARCHMAGE.INCREMENTALS.', index, 'Hint'))\">\n          <input type=\"checkbox\" :name=\"concat('data.incrementals.', index)\" v-model=\"actor.data.incrementals[index]\">\n          {{localize(concat('ARCHMAGE.INCREMENTALS.', index, 'Name'))}}\n        </label>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { localize, concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharIncrementals',\n  props: ['actor'],\n  setup() {\n    return {\n      localize,\n      concat\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {},\n  methods: {\n    getOrderedIncrementals(actor) {\n      let incrementalKeys = ['abilityScoreBonus', 'skills', 'extraMagicItem', 'feat', 'talent', 'hp', 'iconRelationshipPoint', 'powerSpell1', 'powerSpell2', 'powerSpell3', 'powerSpell4'];\n      let newIncrementalArray = {};\n      incrementalKeys.forEach(e => newIncrementalArray[e] = actor.data.incrementals[e]);\n      return newIncrementalArray;\n    }\n  },\n  async mounted() {}\n}\n</script>","<template>\n  <section class=\"section section--resources flexrow flexshrink\" :data-resource-count=\"resourceCount\" :data-custom-count=\"customResourceCount\">\n    <!-- Command Points -->\n    <section v-if=\"actor.data.resources.perCombat.commandPoints.enabled\" class=\"unit unit--command-points\">\n      <h2 class=\"unit-title\">{{localize('ARCHMAGE.CHARACTER.RESOURCES.commandPoints')}}</h2>\n      <div class=\"resource flexrow\">\n        <div class=\"resource--left\">\n          <input type=\"number\" name=\"data.resources.perCombat.commandPoints.current\" v-model=\"commandPoints\">\n        </div>\n        <div class=\"resource--right flexcol\">\n          <!-- TODO: Add support for epic feat to bump to d6. -->\n          <a class=\"rollable rollable--command rollable--command-4\" data-roll-type=\"command\" data-roll-opt=\"d4\">d4</a>\n          <a class=\"rollable rollable--command rollable--command-3\" data-roll-type=\"command\" data-roll-opt=\"d3\">d3</a>\n        </div>\n      </div>\n    </section>\n    <!-- Ki -->\n    <section v-if=\"actor.data.resources.spendable.ki.enabled\" class=\"unit unit--has-max unit--ki\">\n      <h2 class=\"unit-title\">{{localize('ARCHMAGE.CHARACTER.RESOURCES.ki')}}</h2>\n      <Progress name=\"ki\" :current=\"actor.data.resources.spendable.ki.current\" :max=\"actor.data.resources.spendable.ki.max\"/>\n      <div class=\"resource flexrow\">\n        <input type=\"number\" name=\"data.resources.spendable.ki.current\" class=\"resource-current\" v-model=\"ki.current\">\n        <span class=\"resource-separator\">/</span>\n        <input type=\"number\" name=\"data.resources.spendable.ki.max\" class=\"resource-max\" v-model=\"ki.max\">\n      </div>\n    </section>\n    <!-- Focus -->\n    <section v-if=\"actor.data.resources.perCombat.focus.enabled\" class=\"unit unit--focus\">\n      <h2 class=\"unit-title\">{{localize('ARCHMAGE.CHARACTER.RESOURCES.focus')}}</h2>\n      <div class=\"resource flexrow\">\n        <input type=\"checkbox\" name=\"data.resources.perCombat.focus.current\" v-model=\"focus\">\n      </div>\n    </section>\n    <!-- Momentum -->\n    <section v-if=\"actor.data.resources.perCombat.momentum.enabled\" class=\"unit unit--momentum\">\n      <h2 class=\"unit-title\">{{localize('ARCHMAGE.CHARACTER.RESOURCES.momentum')}}</h2>\n      <div class=\"resource flexrow\">\n        <input type=\"checkbox\" name=\"data.resources.perCombat.momentum.current\" v-model=\"momentum\">\n      </div>\n    </section>\n    <!-- Disengage -->\n    <section class=\"unit unit--disengage\">\n      <h2 class=\"unit-title\">{{localize('ARCHMAGE.SAVE.disengage')}}</h2>\n      <div class=\"resource flexcol\">\n        <a class=\"rollable rollable--disengage disengage-value\" data-roll-type=\"save\" data-roll-opt=\"disengage\">{{disengage.value}}+</a>\n        <div class=\"disengage-bonus flexrow\">\n          <span class=\"disengage-label\">{{localize('ARCHMAGE.bonus')}}</span>\n          <input type=\"number\" name=\"data.attributes.disengageBonus\" class=\"disengage-bonus\" v-model=\"disengage.bonus\">\n        </div>\n      </div>\n    </section>\n    <!-- Rests -->\n    <section class=\"unit unit--rest\">\n      <h2 class=\"unit-title\">{{localize('ARCHMAGE.CHAT.Rests')}}</h2>\n      <div class=\"resource flexcol\">\n        <button type=\"button\" class=\"rest rest--quick\" data-rest-type=\"quick\"><i class=\"fas fa-campground\"></i> {{localize('ARCHMAGE.CHAT.QuickRest')}}</button>\n        <button type=\"button\" class=\"rest rest--full\" data-rest-type=\"full\"><i class=\"fas fa-bed\"></i> {{localize('ARCHMAGE.CHAT.FullHeal')}}</button>\n      </div>\n    </section>\n    <div class=\"resource-divider\" v-if=\"(resourceCount > 1 && customResourceCount > 0) || customResourceCount > 1\"></div>\n    <!-- Custom Resouces -->\n    <section v-for=\"(resource, index) in customResources\" :key=\"index\" class=\"unit unit--custom\">\n      <input type=\"text\" :name=\"concat('data.resources.spendable.', index, '.label')\" class=\"resource-title-input\" v-model=\"resource.label\"/>\n      <Progress :name=\"index\" :current=\"resource.current\" :max=\"resource.max\"/>\n      <div class=\"resource flexrow\">\n        <input type=\"number\" :name=\"concat('data.resources.spendable.', index, '.current')\" class=\"resource-current\" v-model=\"resource.current\">\n        <span class=\"resource-separator\">/</span>\n        <input type=\"number\" :name=\"concat('data.resources.spendable.', index, '.max')\" class=\"resource-max\" v-model=\"resource.max\">\n      </div>\n    </section>\n  </section>\n</template>\n\n<script>\nimport { concat, localize } from '/src/vue/methods/Helpers';\nimport { default as Progress } from '/src/vue/components/parts/Progress.vue';\nexport default {\n  name: 'CharResources',\n  props: ['actor'],\n  setup() {\n    return {\n      concat,\n      localize\n    }\n  },\n  components: {\n    Progress\n  },\n  data() {\n    return {\n      commandPoints: 0,\n      momentum: false,\n      focus: false,\n      ki: {\n        value: 0,\n        max: 0\n      },\n      disengage: {\n        value: 11,\n        bonus: 0\n      }\n    }\n  },\n  computed: {\n    customResources() {\n      let resources = {};\n      for (let [k,v] of Object.entries(this.actor.data.resources.spendable)) {\n        if (k.includes('custom') && v.enabled) resources[k] = v;\n      }\n      return resources;\n    },\n    resourceCount() {\n      let count = 0;\n      if (this.actor.data.resources.perCombat.commandPoints.enabled) count++;\n      if (this.actor.data.resources.spendable.ki.enabled) count++;\n      if (this.actor.data.resources.perCombat.focus.enabled) count++;\n      if (this.actor.data.resources.perCombat.momentum.enabled) count++;\n      return count;\n    },\n    customResourceCount() {\n      let arr = Object.keys(this.customResources);\n      return arr && arr.length ? arr.length : 0;\n    }\n  },\n  methods: {\n    updateResourceProps() {\n      this.commandPoints = this.actor.data.resources.perCombat.commandPoints.current;\n      this.momentum = this.actor.data.resources.perCombat.momentum.current;\n      this.focus = this.actor.data.resources.perCombat.focus.current;\n      this.ki = this.actor.data.resources.spendable.ki;\n      this.disengage = {\n        value: this.actor.data.attributes.disengage,\n        bonus: this.actor.data.attributes.disengageBonus\n      };\n    }\n  },\n  watch: {\n    'actor.data.resources': {\n      deep: true,\n      handler() {\n        this.updateResourceProps();\n      }\n    },\n    'actor.data.attributes': {\n      deep: true,\n      handler() {\n        this.updateResourceProps();\n      }\n    }\n  },\n  async mounted() {\n    this.updateResourceProps();\n  }\n}\n</script>","<template>\n  <section class=\"power\">\n    <!-- Group, range, and quick info. -->\n    <header class=\"power-header flexcol\">\n      <strong v-if=\"power.data.group.value\">{{power.data.group.value}}</strong>\n      <em v-if=\"power.data.range.value\">{{power.data.range.value}}</em>\n      <div class=\"power-subheader flexrow\">\n        <strong v-if=\"power.data.actionType.value\">{{localize(concat('ARCHMAGE.',power.data.actionType.value))}}</strong>\n        <strong v-if=\"power.data.powerUsage.value\">{{constants.powerUsages[power.data.powerUsage.value]}}</strong>\n        <strong v-if=\"power.data.powerType.value\">{{constants.powerTypes[power.data.powerType.value]}}</strong>\n      </div>\n    </header>\n    <!-- Primary properties (attack, hit, effect, etc.). -->\n    <section class=\"power-details flexcol\">\n      <div v-if=\"power.data.description.value\" class=\"power-detail power-detail--description\">\n        <span class=\"power-detail-value\" v-html=\"power.data.description.value\"></span>\n      </div>\n      <div class=\"power-detail\" v-for=\"field in powerDetailFields\" :key=\"field\">\n        <strong class=\"power-detail-label\">{{power.data[field].label}}:</strong> <span class=\"power-detail-value\" v-html=\"power.data[field].value\"></span>\n      </div>\n    </section>\n    <!-- Feats. -->\n    <section class=\"power-feats flexcol\">\n      <div v-for=\"(feat, tier) in filterFeats(power.data.feats)\" :key=\"tier\" :class=\"concat('power-feat ', (feat.isActive.value ? 'active' : ''))\">\n        <strong class=\"power-detail-label\">{{localize(concat('ARCHMAGE.CHAT.', tier))}}:</strong>\n        <div class=\"power-detail-content\" v-html=\"feat.description.value\"></div>\n      </div>\n    </section>\n  </section>\n</template>\n\n<script>\nimport { concat, localize } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'Power',\n  props: ['power'],\n  setup() {\n    return {\n      concat,\n      localize\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    constants() {\n      return CONFIG.ARCHMAGE;\n    },\n    powerDetailFields() {\n      let powerFields = [\n        'trigger',\n        'sustainOn',\n        'target',\n        'always',\n        'attack',\n        'hit',\n        'hitEven',\n        'hitOdd',\n        'crit',\n        'miss',\n        'missEven',\n        'missOdd',\n        'cost',\n        'castBroadEffect',\n        'castPower',\n        'sustainedEffect',\n        'finalVerse',\n        'special',\n        'effect',\n        'spellLevel3',\n        'spellLevel5',\n        'spellLevel7',\n        'spellLevel9',\n        'spellChain',\n        'breathWeapon',\n        'recharge',\n      ];\n\n      powerFields = powerFields.filter(p => this.power.data[p].value);\n\n      return powerFields;\n    }\n  },\n  methods: {\n    /**\n     * Filter empty feats\n     */\n    filterFeats(featObj) {\n      let res = {}\n      for (let [tier, feat] of Object.entries(featObj)) {\n        if (feat.description.value) res[tier] = feat;\n      }\n      return res;\n    }\n  },\n  async mounted() {}\n}\n</script>","<template>\n  <a :class=\"getClass()\" :data-roll-type=\"type\" :data-roll-opt=\"opt\"><slot></slot></a>\n</template>\n\n<script>\nexport default {\n  name: 'Rollable',\n  props: ['name', 'hide-icon', 'type', 'opt'],\n  data() {\n    return {}\n  },\n  computed: {},\n  methods: {\n    getClass() {\n      return `rollable${this.hideIcon ? ' hide-icon' : ''}${this.name ? ' rollable--' + this.name : ''}`;\n    }\n  },\n  async mounted() {}\n}\n</script>","<template>\n  <section :class=\"classes\" data-tab=\"powers\">\n    <!-- Sorts and filters. -->\n    <header class=\"power-filters flexrow\">\n      <div class=\"group-powers\">\n        <input type=\"hidden\" name=\"flags.archmage.sheetDisplay.powers.groupBy.value\" v-model=\"groupBy\"/>\n        <label for=\"power-group\">{{localize('ARCHMAGE.groupBy')}}</label>\n        <select name=\"power-group\" v-model=\"groupBy\">\n          <option v-for=\"(option, index) in groupOptions\" :key=\"index\" :value=\"option.value\">{{localize(concat('ARCHMAGE.GROUPS.',option.value))}}</option>\n        </select>\n      </div>\n      <div class=\"sort-powers\">\n        <input type=\"hidden\" name=\"flags.archmage.sheetDisplay.powers.sortBy.value\" v-model=\"sortBy\"/>\n        <label for=\"power-sort\">{{localize('ARCHMAGE.sort')}}</label>\n        <select name=\"power-sort\" v-model=\"sortBy\">\n          <option v-for=\"(option, index) in sortOptions\" :key=\"index\" :value=\"option.value\">{{localize(concat('ARCHMAGE.SORTS.',option.value))}}</option>\n        </select>\n      </div>\n      <div class=\"filter-search-powers\">\n        <label for=\"power-filter-search\">{{localize('ARCHMAGE.filter')}}</label>\n        <input type=\"text\" name=\"power-filter-search\" v-model=\"searchValue\" :placeholder=\"localize('ARCHMAGE.filterName')\"/>\n      </div>\n      <div class=\"import-powers\">\n        <button class=\"item-import button\" title=\"Create Power\" data-item-type=\"power\" data-type=\"power\" type=\"button\"><i class=\"fas fa-atlas\"></i> {{localize('ARCHMAGE.import')}}</button>\n      </div>\n    </header>\n    <!-- Powers, by group. -->\n    <section v-for=\"(group, groupKey) in groups\" :key=\"groupKey\" class=\"power-group\">\n      <div class=\"power-group-header\">\n        <!-- Group title and add button. -->\n        <div class=\"power-header-title grid power-grid\">\n          <h2 class=\"power-group-title unit-title\">{{localize(group)}}</h2>\n          <div class=\"item-controls\">\n            <a class=\"item-control item-create\" data-item-type=\"power\" :data-group-type=\"groupBy\" :data-power-type=\"groupKey\"><i class=\"fas fa-plus\"></i> {{localize('ARCHMAGE.add')}}</a>\n          </div>\n        </div>\n        <!-- Column labels. -->\n        <div class=\"power-header-labels grid power-grid\">\n          <div class=\"power-name\">{{localize('ARCHMAGE.powerName')}}</div>\n          <div class=\"power-feat-pips\">{{localize('ARCHMAGE.feat')}}</div>\n          <div class=\"power-action\">{{localize('ARCHMAGE.act')}}</div>\n          <div class=\"power-recharge\">{{localize('ARCHMAGE.rchg')}}</div>\n          <div class=\"power-uses\">{{localize('ARCHMAGE.uses')}}</div>\n          <div class=\"item-controls\">{{localize('ARCHMAGE.edit')}}</div>\n        </div>\n      </div>\n      <ul class=\"power-group-content flexcol\">\n        <li v-for=\"(power, powerKey) in powerGroups[groupKey]\" :key=\"powerKey\" :class=\"concat('item power-item power-item--', power._id)\" :data-item-id=\"power._id\" :data-draggable=\"draggable\" :draggable=\"draggable\">\n          <!-- Clickable power header. -->\n          <div :class=\"concat('power-summary grid power-grid ', (power.data.powerUsage.value ? power.data.powerUsage.value : 'other'), (power.data.trigger.value ? ' power-summary--trigger' : ''), (activePowers[power._id] ? ' active' : ''))\">\n            <Rollable name=\"item\" :hide-icon=\"true\" type=\"item\" :opt=\"power._id\"><img :src=\"power.img\" class=\"power-image\"/></Rollable>\n            <a class=\"power-name\" v-on:click=\"togglePower\" :data-item-id=\"power._id\">\n              <h3 class=\"power-title unit-subtitle\"><span v-if=\"power.data.powerLevel.value\">[{{power.data.powerLevel.value}}] </span> {{power.name}}</h3>\n            </a>\n            <div class=\"power-feat-pips\" v-if=\"hasFeats(power)\">\n              <ul class=\"feat-pips\">\n                <li v-for=\"(feat, tier) in filterFeats(power.data.feats)\" :key=\"tier\" :class=\"concat('feat-pip', (feat.isActive.value ? ' active' : ''))\" :data-item-id=\"power._id\" :data-tier=\"tier\"><div class=\"hide\">{{tier}}</div></li>\n              </ul>\n            </div>\n            <div class=\"power-action\" v-if=\"power.data.actionType.value\">{{getActionShort(power.data.actionType.value)}}</div>\n            <div class=\"power-recharge\" v-if=\"power.data.recharge.value && power.data.powerUsage.value == 'recharge'\">\n              <Rollable name=\"recharge\" type=\"recharge\" :opt=\"power._id\">{{Number(power.data.recharge.value) || 16}}+</Rollable>\n            </div>\n            <div class=\"power-uses\" :data-item-id=\"power._id\" :data-quantity=\"power.data.quantity.value\"><span v-if=\"power.data.quantity.value !== null\">{{power.data.quantity.value}}</span></div>\n            <div class=\"item-controls\">\n              <a class=\"item-control item-edit\" :data-item-id=\"power._id\"><i class=\"fas fa-edit\"></i></a>\n              <a class=\"item-control item-delete\" :data-item-id=\"power._id\"><i class=\"fas fa-trash\"></i></a>\n            </div>\n            <div v-if=\"power.data.trigger.value\" class=\"power-trigger\"><strong>{{localize('ARCHMAGE.CHAT.trigger')}}:</strong> {{power.data.trigger.value}}</div>\n          </div>\n          <!-- Expanded power content. -->\n          <div :class=\"concat('power-content', (activePowers[power._id] ? ' active' : ''))\" :style=\"getPowerStyle(power._id)\">\n            <Power :power=\"power\" :ref=\"concat('power--', power._id)\"/>\n          </div>\n        </li>\n      </ul>\n    </section>\n  </section>\n</template>\n\n<script>\nimport { concat, localize } from '/src/vue/methods/Helpers';\nimport { default as Power } from '/src/vue/components/parts/Power.vue';\nimport { default as Rollable } from '/src/vue/components/parts/Rollable.vue';\nexport default {\n  name: 'CharPowers',\n  props: ['actor', 'tab', 'flags'],\n  setup() {\n    return {\n      concat,\n      localize\n    }\n  },\n  components: {\n    Power,\n    Rollable\n  },\n  data() {\n    return {\n      powers: [],\n      groupOptions: [\n        { value: 'powerType', label: 'Type' },\n        { value: 'actionType', label: 'Action' },\n        { value: 'powerUsage', label: 'Usage' },\n        { value: 'powerSource', label: 'Class/Race/Item' },\n        { value: 'group', label: 'Custom Groups' },\n      ],\n      sortOptions: [\n        { value: 'custom', label: 'Custom' },\n        { value: 'name', label: 'Name' },\n        { value: 'level', label: 'Level' }\n      ],\n      groupBy: 'powerType',\n      sortBy: 'custom',\n      searchValue: null,\n      activePowers: {}\n    }\n  },\n  computed: {\n    draggable() {\n      return this.sortBy == 'custom' ? true : false;\n    },\n    /**\n     * Retrieve the groups as a computed property. Stored as keyed object where\n     * the key is the machine name for the group and the value is the labe.\n     */\n    groups() {\n      let groups = {};\n      let sortTypes = [\n        'powerSource',\n        'powerType',\n        'powerUsage',\n        'actionType',\n      ];\n      // Handle the built-in sort types.\n      if (sortTypes.includes(this.groupBy)) {\n        let sortKey = `${this.groupBy}s`;\n        for (let [key, label] of Object.entries(CONFIG.ARCHMAGE[sortKey])) {\n          groups[key] = sortKey == 'powerTypes' ? `ARCHMAGE.${key}s` : `ARCHMAGE.${key}`;\n        }\n      }\n      // Handle custom groups.\n      else if (this.groupBy == 'group'){\n        this.powers.forEach(i => {\n          groups['power'] = 'Power';\n          if (i.data.group.value) {\n            let group = i.data.group.value;\n            if (!group || group === undefined) {\n              group = 'Power';\n            }\n            groups[this.cleanClassName(group)] = group;\n          }\n        });\n      }\n      // Default to a 'power' group.\n      else {\n        groups['power'] = 'Power';\n      }\n      // Handle the fallback group.\n      if (!groups['other']) groups['other'] = `ARCHMAGE.other`;\n      // Return clean groups.\n      return groups;\n    },\n    /**\n     * Computed class string for the main powers section element.\n     */\n    classes() {\n      return `section section--powers flexcol${this.tab.active ? ' active' : ''}`;\n    },\n    /**\n     * Computed power groups. Takes the entire powers item array and reduces it\n     * into a nested array where the top level structure are the group names.\n     */\n    powerGroups() {\n      let sortTypes = [\n        'powerSource',\n        'powerType',\n        'powerUsage',\n        'actionType'\n      ];\n\n      // Re-sort the powers.\n      this.getPowers();\n\n      // let powers = this.actor.items.filter(i => i.type == 'power');\n      let powersByGroup = this.powers.reduce((powerGroup, power) => {\n        let group = 'power';\n        let powerData = power.data;\n\n        // Handle the built-in group types.\n        if (sortTypes.includes(this.groupBy)) {\n          group = powerData[this.groupBy] && powerData[this.groupBy].value ? powerData[this.groupBy].value : 'other';\n          // Override legacy 'maneuver' with 'flexible'\n          group = group == 'maneuver' ? 'flexible' : group;\n        }\n        // Handle custom groups.\n        else if (this.groupBy == 'group') {\n          group = powerData.group.value ? this.cleanClassName(powerData.group.value) : 'power';\n        }\n\n        // Create the group if it doesn't exist.\n        if (!powerGroup[group]) {\n          powerGroup[group] = [];\n        }\n        // Add the power and return for the next iteration.\n        powerGroup[group].push(power);\n        return powerGroup;\n      }, {});\n\n      return powersByGroup;\n    },\n  },\n  methods: {\n    /**\n     * Clean a power name for usage in group keys.\n     */\n    cleanClassName(string) {\n      return string ? string.toLowerCase().replace(/[^a-zA-z\\d]/g, '') : '';\n    },\n    /**\n     * Determine if this power has one or more feats.\n     */\n    hasFeats(power) {\n      let hasFeats = false;\n      if (power.data && power.data && power.data.feats) {\n        for (let [tier, feat] of Object.entries(power.data.feats)) {\n          if (feat.description.value || feat.isActive.value) {\n            hasFeats = true;\n            break;\n          }\n        }\n      }\n      return hasFeats;\n    },\n    /**\n     * Filter empty feats\n     */\n    filterFeats(featObj) {\n      let res = {}\n      for (let [tier, feat] of Object.entries(featObj)) {\n        if (feat.description.value) res[tier] = feat;\n      }\n      return res;\n    },\n    /**\n     * Retrieve the abbreviated action type, such as 'STD' or 'QCK'.\n     */\n    getActionShort(actionType) {\n      let actionTypes = {\n        'standard': 'STD',\n        'move': 'MOV',\n        'quick': 'QCK',\n        'free': 'FREE',\n        'interrupt': 'INT'\n      };\n      return actionTypes[actionType] ? actionTypes[actionType] : 'STD';\n    },\n    /**\n     * Update the `powers` prop to be equal to a filtered version of the current\n     * powers on the actor. Filters by type and search keys.\n     */\n    getPowers() {\n      let powers = this.actor.items.filter(i => i.type == 'power');\n      if (this.searchValue) {\n        powers = powers.filter(i => {\n          let needle = this.cleanClassName(this.searchValue);\n          let haystack = this.cleanClassName(i.name);\n          return haystack.includes(needle);\n        });\n      }\n      if (this.sortBy == 'name') {\n        powers = powers.sort((a,b) => {\n          if (a.name < b.name) {\n            return -1;\n          }\n          if (a.name > b.name) {\n            return 1;\n          }\n          return 0;\n        });\n      }\n      else if (this.sortBy == 'level') {\n        powers = powers.sort((a,b) => {\n          if (a.data.powerLevel.value < b.data.powerLevel.value) {\n            return -1;\n          }\n          if (a.data.powerLevel.value > b.data.powerLevel.value) {\n            return 1;\n          }\n          return 0;\n        });\n      }\n      else {\n        powers = powers.sort((a,b) => (a.sort || 0) - (b.sort || 0));\n      }\n      powers.forEach(i => {\n        if (this.activePowers[i._id] == undefined) {\n          // this.activePowers[i._id] = {value: false};\n          this.activePowers[i._id] = false;\n        }\n      });\n      this.powers = powers;\n    },\n    /**\n     * Toggle power display (click event).\n     */\n    togglePower(event) {\n      let target = event.currentTarget;\n      let dataset = target.dataset;\n      let id = dataset.itemId;\n      if (id) {\n        // Toggle the state if the power is currently being tracked.\n        if (this.activePowers[id] !== undefined) {\n          this.activePowers[id] = !this.activePowers[id];\n        }\n        // Otherwise, assume it should be open since this was click event.\n        else {\n          this.activePowers[id] = true;\n        }\n      }\n    },\n    /**\n     * Calculate CSS height of power.\n     */\n    getPowerStyle(powerId) {\n      // Retrieve the element from our refs.\n      let power = this.$refs[`power--${powerId}`];\n      let height = 0;\n\n      // Set the height if there's a ref.\n      if (power) {\n        const element = this.$el.querySelector(`.power-item--${powerId} .power-content .power`);\n        height = this.activePowers[powerId] ? `${element.offsetHeight}px` : `0px`;\n      }\n\n      // Return CSS style object.\n      return {\n        maxHeight: height\n      };\n    }\n  },\n  /**\n   * Watch both the actor items and the search key for changes.\n   */\n  watch: {\n    'actor.items': {\n      deep: true,\n      handler() {\n        this.getPowers();\n      }\n    },\n    'searchValue': {\n      deep: false,\n      handler() {\n        this.getPowers();\n      }\n    }\n  },\n  async mounted() {\n    this.groupBy = this.flags.sheetDisplay.powers.groupBy.value ? this.flags.sheetDisplay.powers.groupBy.value : 'powerType';\n    this.sortBy = this.flags.sheetDisplay.powers.sortBy.value ? this.flags.sheetDisplay.powers.sortBy.value : 'custom';\n\n    this.getPowers();\n  }\n}\n</script>","<template>\r\n  <div :class=\"concat('archmage-v2-vue flexcol ', nightmode)\">\r\n\r\n    <!-- Top group -->\r\n    <section class=\"container container--top flexcol\">\r\n      <!-- Header -->\r\n      <CharHeader :actor=\"actor\"/>\r\n      <!-- Attributes section -->\r\n      <CharAttributes :actor=\"actor\"/>\r\n    </section>\r\n    <!-- /Top group -->\r\n\r\n    <!-- Bottom group -->\r\n    <section class=\"container container--bottom flexrow\">\r\n\r\n      <!-- Left sidebar -->\r\n      <section class=\"section section--sidebar flexcol\">\r\n        <CharInitiative :actor=\"actor\"/>\r\n        <CharAbilities :actor=\"actor\"/>\r\n        <CharBackgrounds :actor=\"actor\"/>\r\n        <CharIconRelationships :actor=\"actor\"/>\r\n        <CharOut :actor=\"actor\" :owner=\"owner\"/>\r\n        <CharIncrementals :actor=\"actor\"/>\r\n      </section>\r\n      <!-- /Left sidebar -->\r\n\r\n      <!-- Main content -->\r\n      <section class=\"section section--main flexcol\">\r\n\r\n        <!-- Class resources -->\r\n        <CharResources :actor=\"actor\"/>\r\n        <!-- Tabs -->\r\n        <Tabs :actor=\"actor\" group=\"primary\" :tabs=\"tabs.primary\" :flags=\"flags\"/>\r\n\r\n        <!-- Tabs content -->\r\n        <section class=\"section section--tabs-content flexcol\">\r\n          <!-- Details tab -->\r\n          <!-- <archmage-actor-c-details :actor=\"actor\" :owner=\"owner\" :tab=\"tabs.primary.details\" :flags=\"flags\"></archmage-actor-c-details> -->\r\n          <!-- Powers tab -->\r\n          <CharPowers :actor=\"actor\" :tab=\"tabs.primary.powers\" :flags=\"flags\"/>\r\n          <!-- Inventory tab -->\r\n          <!-- <archmage-actor-c-inventory :actor=\"actor\" :tab=\"tabs.primary.inventory\" :flags=\"flags\"></archmage-actor-c-inventory> -->\r\n          <!-- Effects tab -->\r\n          <!-- <archmage-actor-c-effects :actor=\"actor\" :tab=\"tabs.primary.effects\" :flags=\"flags\"></archmage-actor-c-effects> -->\r\n          <!-- Settings tab -->\r\n          <!-- <archmage-actor-c-settings :actor=\"actor\" :tab=\"tabs.primary.settings\"></archmage-actor-c-settings> -->\r\n        </section>\r\n        <!-- /Tabs content -->\r\n\r\n      </section>\r\n      <!-- /Main content -->\r\n\r\n    </section>\r\n    <!-- /Bottom group -->\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport { concat, localize } from './methods/Helpers';\r\nimport { default as Tabs } from './components/parts/Tabs.vue';\r\nimport {\r\n  // Top\r\n  CharHeader, CharAttributes,\r\n  // Sidebar\r\n  CharInitiative, CharAbilities, CharBackgrounds, CharIconRelationships, CharOut, CharIncrementals,\r\n  // Main\r\n  CharResources, CharPowers\r\n  // CharDetails, CharEffects, CharInventory, CharSettings, CharTabs\r\n} from './components/actor/character/index.js';\r\n\r\nexport default {\r\n  name: 'ArchmageCharacterSheet',\r\n  props: ['context', 'actor', 'owner'],\r\n  components: {\r\n    Tabs,\r\n    CharHeader,\r\n    CharAttributes,\r\n    CharInitiative,\r\n    CharAbilities,\r\n    CharBackgrounds,\r\n    CharIconRelationships,\r\n    CharOut,\r\n    CharIncrementals,\r\n    CharResources,\r\n    CharPowers\r\n  },\r\n  setup() {\r\n    return {\r\n      concat\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      actorData: {},\r\n      tabs: {\r\n        primary: {\r\n          details: {\r\n            label: localize('ARCHMAGE.details'),\r\n            active: false\r\n          },\r\n          powers: {\r\n            label: localize('ARCHMAGE.powers'),\r\n            active: true\r\n          },\r\n          inventory: {\r\n            label: localize('ARCHMAGE.inventory'),\r\n            active: false\r\n          },\r\n          effects: {\r\n            label: localize('ARCHMAGE.effects'),\r\n            active: false\r\n          },\r\n          settings: {\r\n            label: localize('ARCHMAGE.settings'),\r\n            active: false,\r\n            icon: 'fa-cogs',\r\n            hideLabel: true\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {},\r\n  computed: {\r\n    nightmode() {\r\n      let flags = this.actor.flags ? this.actor.flags.archmage : null;\r\n      return flags && flags.nightmode ? 'nightmode' : '';\r\n    },\r\n    flags() {\r\n      let flags = this.actor.flags ? this.actor.flags.archmage : {};\r\n      let baseFlags = {\r\n        'sheetDisplay': {\r\n          'powers': {\r\n            'groupBy': {'value': 'powerType'},\r\n            'sortBy': {'value': 'custom'}\r\n          },\r\n          'inventory': {\r\n            'sortBy': {'value': 'custom'}\r\n          },\r\n          'tabs': {\r\n            'primary': {'value': 'powers'}\r\n          },\r\n        }\r\n      }\r\n      return mergeObject(baseFlags, flags);\r\n    }\r\n  },\r\n  watch: {},\r\n  async created() {\r\n    console.log(\"Creating Sheet\");\r\n  },\r\n  async mounted() {\r\n    console.log(\"Sheet Mounted\");\r\n  },\r\n};\r\n</script>\r\n","<template>\n  <div :class=\"'tab ' + tab.key + (tab.active ? ' active' : '')\" :data-group=\"group\" :data-tab=\"tab.key\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Tab',\n  props: ['context', 'actor', 'tab', 'group'],\n  computed: {}\n}\n</script>\n\n<style scoped>\n\n</style>"],"names":["_sfc_main","_hoisted_1","_openBlock","_createElementBlock","_createElementVNode","_Fragment","_renderList","_normalizeClass","_hoisted_5","_toDisplayString","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_vModelText","_normalizeStyle","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_18","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_44","_createVNode","_hoisted_11","_hoisted_17","_hoisted_20","_hoisted_23","_hoisted_28","_hoisted_30","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_40","_hoisted_43","_vModelCheckbox","_createTextVNode","_renderSlot"],"mappings":"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"}