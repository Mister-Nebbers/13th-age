{"version":3,"file":"components.vue.es.js","sources":["../../src/vue/methods/Helpers.js","../../plugin-vue:export-helper","../../src/vue/components/actor/character/top/CharHeader.vue","../../src/vue/components/parts/Progress.vue","../../src/vue/components/actor/character/top/CharAttributes.vue","../../src/vue/components/actor/character/sidebar/CharAbilities.vue","../../src/vue/components/actor/character/sidebar/CharBackgrounds.vue","../../src/vue/components/actor/character/sidebar/CharInitiative.vue","../../src/vue/components/actor/character/sidebar/CharIconRelationships.vue","../../src/vue/ArchmageCharacterSheet.vue","../../src/vue/parts/Editor.vue","../../src/vue/parts/Tabs.vue","../../src/vue/parts/Tab.vue"],"sourcesContent":["export function getSafeValue(property, defaultValue) {\n  if (property) return property.value;\n  return defaultValue;\n}\n\nexport function localize(key) {\n  return game.i18n.localize(key);\n}\n\nexport function cssClass(string) {\n  return encodeURIComponent(\n    string.trim().toLowerCase()\n  ).replace(/%[0-9A-F]{2}/gi, '-');\n}\n\nexport function numberFormat(value, dec = 0, sign = false) {\n  value = parseFloat(value).toFixed(dec);\n  if (sign ) return ( value >= 0 ) ? `+${value}` : value;\n  return value;\n}\n\nexport function concat(...args) {\n  return args.reduce((acc, cur) => {\n    return acc + cur;\n  }, '');\n}","\nexport default (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n}\n","<template>\n  <!-- HEADER -->\n  <header class=\"header character-header grid grid-4col\">\n    <!-- Name -->\n    <div class=\"unit unit--abs-label unit--name\">\n      <label for=\"name\">{{localize(\"ARCHMAGE.name\")}}</label>\n      <input type=\"text\" name=\"name\" class=\"input-secondary\" v-model=\"actor.name\">\n    </div>\n    <!-- Race -->\n    <div class=\"unit unit--abs-label unit--race\">\n      <label for=\"data.details.race.value\">{{localize(\"ARCHMAGE.race\")}}</label>\n      <input type=\"text\" name=\"data.details.race.value\" class=\"input-secondary\" v-model=\"actor.data.details.race.value\">\n    </div>\n    <!-- Class -->\n    <div class=\"unit unit--abs-label unit--class\">\n      <label for=\"data.details.class.value\">{{localize(\"ARCHMAGE.class\")}}</label>\n      <input type=\"text\" name=\"data.details.class.value\" class=\"input-secondary\" v-model=\"actor.data.details.class.value\">\n    </div>\n    <!-- Level -->\n    <div class=\"unit unit--abs-label unit--level\">\n      <label for=\"data.attributes.level.value\">{{localize(\"ARCHMAGE.level\")}}</label>\n      <input type=\"number\" name=\"data.attributes.level.value\" class=\"input-secondary\" v-model=\"actor.data.attributes.level.value\" min=\"0\">\n    </div>\n  </header>\n</template>\n\n<script>\nimport { localize } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharacterHeader',\n  props: ['actor'],\n  setup() {\n    return {\n      localize\n    }\n  },\n  data() {\n    return {\n      level: {}\n    }\n  },\n  computed: {},\n  methods: { /* See created. */},\n  async mounted() {\n    this.level = this.actor.data.attributes.level;\n  }\n}\n</script>","<template>\n  <div :class=\"concat('progress-bar progress-bar--', name)\">\n    <div class=\"progress-track\"></div>\n    <div :class=\"getProgressClass(current)\" :style=\"{width: getProgressPercent(current, realMax)}\"></div>\n    <div v-if=\"temp\" :class=\"getProgressClass(temp, 'temp', current)\" :style=\"{width: getProgressPercent(temp, realMax), left: getProgressPercent(current, realMax)}\"></div>\n  </div>\n</template>\n\n<script>\nimport { concat } from '/src/vue/methods/Helpers.js';\nexport default {\n  name: 'Progress',\n  props: ['current', 'temp', 'max', 'name'],\n  setup() {\n    return {\n      concat\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    realMax() {\n      let temp = this.temp ? this.temp : 0;\n      return Math.max(this.max, this.current + temp);\n    }\n  },\n  methods: {\n    getProgressClass(value, modifier = 'current', value2 = 0) {\n      let percent = this.getProgressPercent((Number(value) + value2), this.max, false);\n      let level = 'full';\n\n      if (percent > 75) {\n        level = 'full';\n      }\n      else if (percent > 50) {\n        level = 'hurt';\n      }\n      else if (percent > 25) {\n        level = 'staggered';\n      }\n      else {\n        level = 'dire';\n      }\n\n      return `progress-${modifier} progress-${level}`;\n    },\n    getProgressPercent(value, value2, includeSign = true) {\n      let percent = Math.ceil(100 * (value / Math.max(1, value2)));\n\n      if (percent > 100) percent = 100;\n      else if (percent < 0) percent = 0;\n\n      return includeSign ? `${percent}%` : percent;\n    }\n  }\n}\n</script>","<template>\n  <section class=\"section section--attributes flexrow\">\n    <!-- Actor image -->\n    <div class=\"unit unit--img profile-img\">\n      <img :src=\"actor.img\" ref=\"avatar\" :alt=\"localize('ARCHMAGE.avatarAlt')\" :width=\"avatarWidth\" :height=\"avatarHeight\" :class=\"avatarClass\" data-edit=\"img\"/>\n    </div>\n    <div class=\"unit unit--attributes grid grid-5col border-both\">\n      <!-- HP -->\n      <div class=\"unit unit--has-max unit--hp\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.hitPoints')}}</h2>\n        <Progress name=\"hp\" :current=\"actor.data.attributes.hp.value\" :temp=\"actor.data.attributes.hp.temp\" :max=\"actor.data.attributes.hp.max\"/>\n        <div class=\"resource flexrow\">\n          <input type=\"number\" name=\"data.attributes.hp.value\" class=\"resource-current\" v-model=\"actor.data.attributes.hp.value\">\n          <span class=\"resource-separator\">/</span>\n          <div v-if=\"actor.data.attributes.hp.automatic\" class=\"resource-max\">{{actor.data.attributes.hp.max}}</div>\n          <input v-else type=\"number\" name=\"data.attributes.hp.max\" class=\"resource-max\" v-model=\"actor.data.attributes.hp.max\">\n        </div>\n        <div class=\"labeled-input flexrow\">\n          <label for=\"data.attributes.hp.temp\" class=\"unit-subtitle\">{{localize('ARCHMAGE.tempHp')}}</label>\n          <input type=\"number\" name=\"data.attributes.hp.temp\" class=\"temp-hp\" v-model=\"actor.data.attributes.hp.temp\">\n        </div>\n      </div>\n      <!-- Defenses -->\n      <div class=\"unit unit--defenses\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.defenses')}}</h2>\n        <div class=\"defenses grid grid-3col\">\n          <div class=\"defense defense--ac flexcol\">\n            <span class=\"defense-value\">{{actor.data.attributes.ac.value}}</span>\n            <h3 class=\"unit-subtitle\" :title=\"concat(localize('ARCHMAGE.ac.label'), ' (', localize('ARCHMAGE.ac.stats'), ')')\">{{localize('ARCHMAGE.ac.key')}}</h3>\n          </div>\n          <div class=\"defense defense--pd flexcol\">\n            <span class=\"defense-value\">{{actor.data.attributes.pd.value}}</span>\n            <h3 class=\"unit-subtitle\" :title=\"concat(localize('ARCHMAGE.pd.label'), ' (', localize('ARCHMAGE.pd.stats'), ')')\">{{localize('ARCHMAGE.pd.key')}}</h3>\n          </div>\n          <div class=\"defense defense--md flexcol\">\n            <span class=\"defense-value\">{{actor.data.attributes.md.value}}</span>\n            <h3 class=\"unit-subtitle\" :title=\"concat(localize('ARCHMAGE.md.label'), ' (', localize('ARCHMAGE.md.stats'), ')')\">{{localize('ARCHMAGE.md.key')}}</h3>\n          </div>\n        </div>\n      </div>\n      <!-- Recoveries -->\n      <div class=\"unit unit--has-max unit--recoveries\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.recoveries')}}</h2>\n        <Progress name=\"recoveries\" :current=\"actor.data.attributes.recoveries.value\" :max=\"actor.data.attributes.recoveries.max\"/>\n        <div class=\"resource flexrow\">\n          <input type=\"number\" name=\"data.attributes.recoveries.value\" class=\"resource-current\" v-model=\"actor.data.attributes.recoveries.value\">\n          <span class=\"resource-separator\">/</span>\n          <div v-if=\"actor.data.attributes.recoveries.automatic\" class=\"resource-max\">{{actor.data.attributes.recoveries.max}}</div>\n          <input v-else type=\"number\" name=\"data.attributes.recoveries.max\" class=\"resource-max\" v-model=\"actor.data.attributes.recoveries.max\">\n        </div>\n        <div class=\"roll\">\n          <a class=\"rollable rollable--recover\" data-roll-type=\"recovery\">{{actor.data.attributes.level.value}}{{actor.data.attributes.recoveries.dice}}+{{actor.data.abilities.con.dmg}} ({{actor.data.attributes.recoveries.avg}})</a>\n        </div>\n      </div>\n      <!-- Saving Throws -->\n      <div class=\"unit unit--saves flexcol\">\n        <h2 class=\"unit-title\">{{localize('ARCHMAGE.saves')}}</h2>\n        <div class=\"saves flexcol\">\n          <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"easy\">6+ ({{localize('ARCHMAGE.SAVE.easyShort')}})</a>\n          <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"normal\">11+ ({{localize('ARCHMAGE.SAVE.normalShort')}})</a>\n          <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"hard\">16+ ({{localize('ARCHMAGE.SAVE.hardShort')}})</a>\n        </div>\n      </div>\n      <!-- Init / Death Saves -->\n      <div class=\"unit unit--death\">\n        <div class=\"dividers flexcol\">\n          <div class=\"death-saves\">\n            <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"death\">{{localize('ARCHMAGE.SAVE.death')}}</a>\n            <div class=\"death-save-attempts flexrow\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[0]\" data-opt=\"1\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[1]\" data-opt=\"2\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[2]\" data-opt=\"3\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.deathFails.steps[3]\" data-opt=\"4\">\n            </div>\n          </div>\n          <div class=\"last-gasp-saves\">\n            <a class=\"rollable rollable--save\" data-roll-type=\"save\" data-roll-opt=\"lastGasp\">{{localize('ARCHMAGE.SAVE.lastGasp')}}</a>\n            <div class=\"lastgasp-save-attempts flexrow\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[0]\" data-opt=\"1\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[1]\" data-opt=\"2\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[2]\" data-opt=\"3\">\n              <input type=\"checkbox\" v-model=\"actor.data.attributes.saves.lastGaspFails.steps[3]\" data-opt=\"4\">\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { concat, localize } from '/src/vue/methods/Helpers';\nimport { default as Progress } from '/src/vue/components/parts/Progress.vue';\nexport default {\n  name: 'CharAttributes',\n  props: ['actor'],\n  setup() {\n    return {\n      concat,\n      localize\n    }\n  },\n  data() {\n    return {\n      avatarClass: 'avatar',\n      avatarWidth: 105,\n      avatarHeight: 105\n    }\n  },\n  components: {\n    Progress\n  },\n  computed: {},\n  methods: {\n    getAvatarDimensions() {\n      let img = this.$refs['avatar'];\n      let width = img.naturalWidth;\n      let height = img.naturalHeight;\n\n      let ratio = width / height;\n      let ratioClass = 'square';\n      let squareSize = width;\n\n      if (ratio < 0.9) {\n        ratioClass = 'portrait';\n        squareSize = width;\n      }\n      else if (ratio > 1.1) {\n        // TODO: Figure out a good layout for landscape.\n        // ratioClass = 'landscape';\n        ratioClass = 'square';\n        squareSize = height;\n      }\n\n      this.avatarWidth = ratioClass != 'square' ? width : squareSize;\n      this.avatarHeight = ratioClass != 'square' ? height : squareSize;\n      let classes = ['avatar', `avatar--${ratioClass}`];\n      let flags = this.actor.flags && this.actor.flags.archmage ? this.actor.flags.archmage : {};\n      if (flags.portraitRound) classes.push('avatar--round');\n      if (flags.portraitFrame) classes.push('avatar--frame');\n      this.avatarClass = classes.join(' ');\n    },\n    checkLoaded() {\n      if (this.$refs.avatar.complete) {\n        this.getAvatarDimensions();\n      }\n      else {\n        this.$refs.avatar.addEventListener('load', () => {\n          this.getAvatarDimensions();\n        });\n      }\n    }\n  },\n  watch: {\n    'actor.img': {\n      deep: false,\n      handler() {\n        this.$nextTick(() => {\n          this.checkLoaded();\n        });\n      }\n    },\n    'actor.flags.archmage': {\n      deep: true,\n      handler() {\n        this.getAvatarDimensions();\n      }\n    }\n  },\n  async mounted() {\n    this.$nextTick(() => {\n      this.checkLoaded();\n    });\n  }\n}\n</script>\n","<template>\n  <section class=\"section section--abilities flexcol\">\n    <div class=\"list-item-header grid grid-4col\">\n      <h2 class=\"unit-title grid-span-2\">{{localize('ARCHMAGE.abilities')}}</h2>\n      <div class=\"ability-mod-label grid-start-3\">{{localize('ARCHMAGE.mod')}}</div>\n      <div class=\"ability-lvl-label grid-start-4\">{{localize('ARCHMAGE.lvl')}}</div>\n    </div>\n    <ul class=\"list list--abilities abilities\">\n      <li v-for=\"(item, index) in actor.data.abilities\" :key=\"concat('data.abilities.', index, '.value')\" class=\"list-item list-item--abilities ability grid grid-4col\" :data-key=\"index\">\n        <input type=\"number\" v-bind:name=\"concat('data.abilities.', index, '.value')\" class=\"ability-score\" v-model=\"item.value\"/>\n        <a class=\"ability-name rollable rollable--ability\" data-roll-type=\"ability\" :data-roll-opt=\"index\">{{localize(concat('ARCHMAGE.', index, '.label'))}}</a>\n        <div class=\"ability-mod\" :style=\"concat('color:', modColor(item))\" :title=\"modTitle(item, actor)\">{{numberFormat(item.nonKey.mod, 0, true)}}</div>\n        <div class=\"ability-lvl\" :style=\"concat('color:', modColor(item))\">{{numberFormat(item.nonKey.lvlmod, 0, true)}}</div>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { numberFormat, localize, concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharAbilities',\n  props: ['actor'],\n  setup() {\n    return {\n      numberFormat,\n      localize,\n      concat\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n  },\n  methods: {\n    modColor(abil) {\n      if (abil.mod && abil.nonKey.mod) {\n        if (abil.mod < abil.nonKey.mod) {\n          console.log(abil.label);\n          return '#E01616';\n        }\n      }\n      return 'inherit';\n    },\n    modTitle(abil, actor) {\n      if (abil.mod && abil.nonKey.mod) {\n        if (abil.mod < abil.nonKey.mod) {\n          return game.i18n.format('ARCHMAGE.keyReduced', {\n            mod: window.archmageVueMethods.methods.numberFormat(abil.mod, 0, true),\n            kmod1: actor.data.attributes.keyModifier.mod1,\n            kmod2: actor.data.attributes.keyModifier.mod2\n          });\n        }\n      }\n      return '';\n    }\n  },\n  watch: {},\n  async mounted() {}\n}\n</script>","<template>\n  <section class=\"section section--backgrounds flexcol\">\n    <h2 class=\"unit-title\">{{localize('ARCHMAGE.backgrounds')}}</h2>\n    <ul class=\"list list--backgrounds backgrounds\">\n      <li v-for=\"(item, index) in backgrounds\" :key=\"concat('data.backgrounds.', index)\" class=\"list-item list-item--backgrounds background flexrow\" :data-key=\"index\">\n        <span class=\"rollable rollable--background flexshrink\" data-roll-type=\"background\" :data-roll-opt=\"item.name.value\"></span>\n        <span class=\"background-sign\">+</span>\n        <input type=\"number\" v-bind:name=\"concat('data.backgrounds.', index, '.bonus.value')\" class=\"background-bonus\" v-model=\"item.bonus.value\"/>\n        <input type=\"text\" v-bind:name=\"concat('data.backgrounds.', index, '.name.value')\" class=\"background-name\" v-model=\"item.name.value\"/>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { localize, concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharBackgrounds',\n  props: ['actor'],\n  setup() {\n    return {\n      localize,\n      concat\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {\n    backgrounds() {\n      let filteredBackgrounds = {};\n      for (let [k,v] of Object.entries(this.actor.data.backgrounds)) {\n        if (v.isActive.value === true) filteredBackgrounds[k] = v;\n      }\n      return filteredBackgrounds;\n    }\n  },\n  methods: { /* See created. */},\n  async mounted() {}\n}\n</script>","<template>\n  <section class=\"section section--initiative flexcol\">\n    <a class=\"rollable rollable--init\" data-roll-type=\"init\">{{numberFormat(actor.data.attributes.init.mod, 0, true)}} {{localize('ARCHMAGE.initiative')}}</a>\n  </section>\n</template>\n\n<script>\nimport { numberFormat, localize } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharIniative',\n  props: ['actor'],\n  setup() {\n    return {\n      numberFormat,\n      localize\n    }\n  },\n  data() {\n    return {}\n  },\n  computed: {},\n  methods: {},\n  watch: {},\n  async mounted() {}\n}\n</script>","<template>\n  <section class=\"section section--icons flexcol\">\n    <h2 class=\"unit-title\">{{localize('ARCHMAGE.iconRelationships')}}</h2>\n    <ul class=\"list list--icons icons\">\n      <li v-for=\"(item, index) in icons\" :key=\"concat('data.icons.', index)\" class=\"list-item list-item--icons icon flexrow\" :data-key=\"index\">\n        <div :class=\"concat('icon-display flexrow', isEdit(index, editArray[index]))\">\n          <div class=\"rollable rollable--icon\" data-roll-type=\"icon\" :data-roll-opt=\"index\">\n            <span class=\"icon-symbol flexshrink\">{{iconSymbol(item.relationship.value)}}</span>\n            <span class=\"icon-name\">{{item.bonus.value}} {{item.name.value}}</span>\n          </div>\n          <ul v-if=\"item.results\" class=\"icon-rolls flexrow\" :key=\"changeKey\">\n            <li v-for=\"(roll, rollIndex) in item.results\" :key=\"rollIndex\" class=\"icon-roll\" :data-key=\"index\" :data-roll-key=\"rollIndex\" :data-roll=\"getRollResult(roll)\">{{getRollResult(roll)}}</li>\n          </ul>\n        </div>\n        <div :class=\"concat('icon-edit flexrow', isEdit(index, !editArray[index]))\">\n          <select class=\"relationship-edit\" :name=\"concat('data.icons.', index, '.relationship.value')\" v-model=\"item.relationship.value\">\n            <option value=\"Positive\">{{localize('ARCHMAGE.positive')}}</option>\n            <option value=\"Negative\">{{localize('ARCHMAGE.negative')}}</option>\n            <option value=\"Conflicted\">{{localize('ARCHMAGE.conflicted')}}</option>\n          </select>\n          <input type=\"number\" v-bind:name=\"concat('data.icons.', index, '.bonus.value')\" class=\"icon-bonus-edit\" v-model=\"item.bonus.value\"/>\n          <input type=\"text\" v-bind:name=\"concat('data.icons.', index, '.name.value')\" class=\"icon-name-edit\" v-model=\"item.name.value\"/>\n        </div>\n        <span class=\"icon-edit-toggle fas fa-edit\" v-on:click=\"toggleEdit\"></span>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nimport { localize, concat } from '/src/vue/methods/Helpers';\nexport default {\n  name: 'CharIconRelationships',\n  props: ['actor'],\n  setup() {\n    return {\n      concat,\n      localize\n    }\n  },\n  data: () => ({\n    editArray: [],\n    changeKey: 0\n  }),\n  computed: {\n    icons() {\n      let filteredIcons = {};\n      for (let [k,v] of Object.entries(this.actor.data.icons)) {\n        if (v.isActive.value === true) filteredIcons[k] = v;\n      }\n      return filteredIcons;\n    },\n    relationshipTypes() {\n      return [\n        {label: game.i18n.localize('ARCHMAGE.positive'), code: 'Positive'},\n        {label: game.i18n.localize('ARCHMAGE.negative'), code: 'Negative'},\n        {label: game.i18n.localize('ARCHMAGE.conflicted'), code: 'Conflicted'}\n      ];\n    },\n  },\n  methods: {\n    iconSymbol(iconKey) {\n      let symbols = {\n        'Positive': '+',\n        'Negative': '-',\n        'Conflicted': '~'\n      };\n      return symbols[iconKey];\n    },\n    toggleEdit(event) {\n      let $target = $(event.currentTarget);\n      let $parent = $target.parents('.list-item--icons');\n      let $display = $parent.find('.icon-display');\n      let $edit = $parent.find('.icon-edit');\n\n      $display.toggleClass('hide');\n      $edit.toggleClass('hide');\n\n      let index = parseInt($parent.attr('data-key'));\n      this.editArray[index] = $display.hasClass('hide');\n    },\n    isEdit(index, type) {\n      if (this.editArray.length < 1) {\n        return type === true ? ' hide ' : '';\n      }\n      else {\n        return this.editArray[index] === type ? ' hide ' : '';\n      }\n    },\n    getRollResult(roll) {\n      return roll == 5 || roll == 6 ? roll : 0;\n    }\n  },\n  watch: {\n  },\n  async mounted() {\n  }\n}\n</script>","<template>\r\n  <div :class=\"concat('archmage-v2-vue flexcol ', nightmode)\">\r\n\r\n    <!-- Top group -->\r\n    <section class=\"container container--top flexcol\">\r\n      <!-- Header -->\r\n      <CharHeader :actor=\"actor\"></CharHeader>\r\n      <!-- Attributes section -->\r\n      <CharAttributes :actor=\"actor\"></CharAttributes>\r\n    </section>\r\n    <!-- /Top group -->\r\n\r\n    <!-- Bottom group -->\r\n    <section class=\"container container--bottom flexrow\">\r\n\r\n      <!-- Left sidebar -->\r\n      <section class=\"section section--sidebar flexcol\">\r\n        <CharInitiative :actor=\"actor\"></CharInitiative>\r\n        <CharAbilities :actor=\"actor\"></CharAbilities>\r\n        <CharBackgrounds :actor=\"actor\"></CharBackgrounds>\r\n        <CharIconRelationships :actor=\"actor\"></CharIconRelationships>\r\n        <!-- <archmage-actor-c-out :actor=\"actor\" :owner=\"owner\"></archmage-actor-c-out> -->\r\n        <!-- <archmage-actor-c-incrementals :actor=\"actor\"></archmage-actor-c-incrementals> -->\r\n      </section>\r\n      <!-- /Left sidebar -->\r\n\r\n      <!-- Main content -->\r\n      <section class=\"section section--main flexcol\">\r\n\r\n        <!-- Class resources -->\r\n        <!-- <archmage-actor-c-resources :actor=\"actor\"></archmage-actor-c-resources> -->\r\n        <!-- Tabs -->\r\n        <!-- <archmage-actor-c-tabs :actor=\"actor\" group=\"primary\" :tabs=\"tabs.primary\" :flags=\"flags\"></archmage-actor-c-tabs> -->\r\n\r\n        <!-- Tabs content -->\r\n        <section class=\"section section--tabs-content flexcol\">\r\n          <!-- Details tab -->\r\n          <!-- <archmage-actor-c-details :actor=\"actor\" :owner=\"owner\" :tab=\"tabs.primary.details\" :flags=\"flags\"></archmage-actor-c-details> -->\r\n          <!-- Powers tab -->\r\n          <!-- <archmage-actor-c-powers :actor=\"actor\" :tab=\"tabs.primary.powers\" :flags=\"flags\"></archmage-actor-c-powers> -->\r\n          <!-- Inventory tab -->\r\n          <!-- <archmage-actor-c-inventory :actor=\"actor\" :tab=\"tabs.primary.inventory\" :flags=\"flags\"></archmage-actor-c-inventory> -->\r\n          <!-- Effects tab -->\r\n          <!-- <archmage-actor-c-effects :actor=\"actor\" :tab=\"tabs.primary.effects\" :flags=\"flags\"></archmage-actor-c-effects> -->\r\n          <!-- Settings tab -->\r\n          <!-- <archmage-actor-c-settings :actor=\"actor\" :tab=\"tabs.primary.settings\"></archmage-actor-c-settings> -->\r\n        </section>\r\n        <!-- /Tabs content -->\r\n\r\n      </section>\r\n      <!-- /Main content -->\r\n\r\n    </section>\r\n    <!-- /Bottom group -->\r\n\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport { concat } from './methods/Helpers';\r\nimport {\r\n  // Top\r\n  CharHeader, CharAttributes,\r\n  // Sidebar\r\n  CharInitiative, CharAbilities, CharBackgrounds, CharIconRelationships\r\n  // Main\r\n  // CharDetails, CharEffects, CharInventory, CharPowers, CharResources, CharSettings, CharTabs\r\n} from './components/actor/character/index.js';\r\n\r\nexport default {\r\n  name: 'ArchmageCharacterSheet',\r\n  props: ['context', 'actor', 'owner'],\r\n  components: {\r\n    CharHeader,\r\n    CharAttributes,\r\n    CharInitiative,\r\n    CharAbilities,\r\n    CharBackgrounds,\r\n    CharIconRelationships\r\n  },\r\n  setup() {\r\n    return {\r\n      concat\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      actorData: {},\r\n      tabs: {\r\n        primary: {\r\n          details: {active: false},\r\n          powers: {active: true},\r\n          inventory: {active: false},\r\n          effects: {active: false},\r\n          settings: {active: false, icon: 'fa-cogs', hideLabel: true}\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {},\r\n  computed: {\r\n    nightmode() {\r\n      let flags = this.actor.flags ? this.actor.flags.archmage : null;\r\n      return flags && flags.nightmode ? 'nightmode' : '';\r\n    },\r\n    flags() {\r\n      let flags = this.actor.flags ? this.actor.flags.archmage : {};\r\n      let baseFlags = {\r\n        'sheetDisplay': {\r\n          'powers': {\r\n            'groupBy': {'value': 'powerType'},\r\n            'sortBy': {'value': 'custom'}\r\n          },\r\n          'inventory': {\r\n            'sortBy': {'value': 'custom'}\r\n          },\r\n          'tabs': {\r\n            'primary': {'value': 'powers'}\r\n          },\r\n        }\r\n      }\r\n      return mergeObject(baseFlags, flags);\r\n    }\r\n  },\r\n  watch: {},\r\n  async created() {\r\n    console.log(\"Creating Sheet\");\r\n  },\r\n  async mounted() {\r\n    console.log(\"Sheet Mounted\");\r\n  },\r\n};\r\n</script>\r\n","<template>\n  <div class=\"editor-wrapper\">\n    <div class=\"editor\">\n      <div class=\"editor-content\" :data-edit=\"target\" v-html=\"enrichHTML()\"></div>\n      <a class=\"editor-edit\" v-if=\"canEdit\"><i class=\"fas fa-edit\"></i></a>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Edtior',\n  props: ['owner', 'target', 'content', 'button', 'editable', 'documents', 'links', 'rolls', 'rollData'],\n  data() {\n    return {\n      canEdit: false\n    }\n  },\n  computed: {},\n  methods: {\n    enrichHTML() {\n      const button = Boolean(this.button);\n      const editable = Boolean(this.editable);\n      this.canEdit = (button && editable);\n      const editor = TextEditor.enrichHTML(this.content || '', {\n        secrets: this.owner,\n        documents: this.documents ?? true,\n        links: this.links ?? true,\n        rolls: this.rolls ?? true,\n        rollData: this.rollData ?? {}\n      });\n      return editor;\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .sheet {\n    .editor-wrapper,\n    .editor,\n    .editor-content {\n      height: 100%;\n    }\n  }\n</style>","<template>\n  <nav :class=\"'sheet-tabs tabs tabs--' + group\" :data-group=\"group\">\n    <a v-for=\"(tab, tabKey) in tabs\" :key=\"'tab-' + group + '-' + tabKey\" @click=\"changeTab\" :class=\"getTabClass(tab, tabKey)\" :data-tab=\"tabKey\">{{tab.label}}</a>\n  </nav>\n</template>\n\n<script>\nexport default {\n  name: 'Tabs',\n  props: ['context', 'actor', 'group', 'tabs'],\n  data() {\n    return {\n      currentTab: 'features'\n    }\n  },\n  methods: {\n    changeTab(event) {\n      // If this was a click, update the default tab.\n      if (event && event.currentTarget) {\n        let $target = $(event.currentTarget);\n        this.currentTab = $target.data('tab');\n      }\n\n      // Update the tab displays.\n      for (let [k,v] of Object.entries(this.tabs)) {\n        this.tabs[k].active = false;\n      }\n\n      // Update the active tab display.\n      this.tabs[this.currentTab].active = true;\n    },\n    getTabClass(tab, index) {\n      return `item ${tab.active ? ' active': ''}`;\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>","<template>\n  <div :class=\"'tab ' + tab.key + (tab.active ? ' active' : '')\" :data-group=\"group\" :data-tab=\"tab.key\">\n    <slot></slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Tab',\n  props: ['context', 'actor', 'tab', 'group'],\n  computed: {}\n}\n</script>\n\n<style scoped>\n\n</style>"],"names":["_sfc_main","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_openBlock","_createElementBlock","_createElementVNode","_toDisplayString","_vModelText","_normalizeClass","_normalizeStyle","_hoisted_10","_hoisted_12","_hoisted_13","_hoisted_14","_createVNode","_hoisted_11","_Fragment","_renderList","_renderSlot"],"mappings":"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"}